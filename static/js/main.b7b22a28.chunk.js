(this["webpackJsonppokemon-gashapon"]=this["webpackJsonppokemon-gashapon"]||[]).push([[0],{77:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a,c,s=n(3),i=n.n(s),l=n(66),r=n.n(l),o=(n(77),n(11)),m=n(23),j=n(28),b=n(9),d=n(29),x=Object(s.createContext)({}),h=n(22),p=n(0),u=function(){var e=Object(b.e)();return Object(p.jsx)(p.Fragment,{children:"/"!==e.pathname&&Object(p.jsx)("header",{className:"container p-5",children:Object(p.jsxs)("div",{className:"bg-white rounded-full p-3 flex items-center",children:[Object(p.jsx)("img",{src:"images/poke-ball-icon.svg",alt:"header-icon",className:"w-7"}),Object(p.jsx)("h3",{className:"ml-2 mr-auto",children:"Pokepon"}),Object(p.jsx)("div",{className:"text-gray-400 px-2 ".concat("/pokedex"===e.pathname?"text-gray-800":e.pathname),children:Object(p.jsx)(j.b,{to:"/pokedex",children:Object(p.jsx)(h.a,{})})}),Object(p.jsx)("div",{className:"text-gray-400 px-2 ".concat("/my-pokemon"===e.pathname?"text-gray-800":e.pathname),children:Object(p.jsx)(j.b,{to:"/my-pokemon",children:Object(p.jsx)(h.b,{})})})]})})})},O=function(){var e=Object(b.e)();return Object(p.jsx)(p.Fragment,{children:"/"!==e.pathname&&Object(p.jsx)("footer",{className:"container text-center py-5",children:Object(p.jsx)("h5",{children:"Pokemon Gashapon \xa9 2021"})})})},g=function(){return Object(p.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center",children:[Object(p.jsx)("img",{src:"images/pokemon-logo.png",className:"w-80",alt:"pokemon"}),Object(p.jsx)("h3",{className:"mb-10 text-gray-700 text-2x",children:"~ Gashapon ~"}),Object(p.jsx)(j.b,{to:"/pokedex",children:Object(p.jsx)("button",{type:"button",className:"btn animate-bounce",children:"Get Started"})})]})},f=n(68),k=n.n(f),v=n(52),N=Object(m.gql)(a||(a=Object(v.a)(["\n  query pokemons($limit: Int, $offset: Int) {\n    pokemons(limit: $limit, offset: $offset) {\n      count\n      next\n      previous\n      status\n      message\n      results {\n        id\n        name\n        image\n      }\n    }\n  }\n"]))),y=Object(m.gql)(c||(c=Object(v.a)(["\n  query pokemon($name: String!) {\n    pokemon(name: $name) {\n      id\n      name\n      weight\n      height\n      base_experience\n      species{\n        name\n      }\n      sprites{\n        front_default\n      }\n      types {\n        type {\n          name\n        }\n      }\n      moves{\n        move {\n          name\n        }\n      }\n      message\n      status\n    }\n  }\n"]))),w=function(e){var t=e.onClick,n=e.pokemon;return Object(p.jsxs)("div",{className:"rounded-2xl p-2 text-center transition duration-300 hover:shadow-xl transform hover:-translate-y-1",onClick:function(){return t(n.name,n.nickname)},children:[Object(p.jsx)("div",{style:{width:"90px",height:"90px"},className:"mx-auto",children:Object(p.jsx)("img",{style:{width:"90px",height:"90px"},src:n.image,alt:n.name})}),Object(p.jsxs)("h6",{className:"text-sm text-gray-400",children:["#",n.id.toString().padStart(3,"0")]}),Object(p.jsx)("h5",{className:"text-gray-700 capitalize",children:n.nickname?n.nickname:n.name.replaceAll("-"," ")})]})},C=function(e){var t=e.loading,n=e.pokemon,a=e.nickname,c=e.origin,s=e.onClose,i=e.onCatch,l=e.onRelease;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"fixed z-50 inset-0","aria-hidden":"true",children:Object(p.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(p.jsx)("div",{className:"fixed z-50 inset-0 overflow-y-auto",children:Object(p.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(p.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all w-96 m-5",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:t?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"py-32 flex justify-center",children:Object(p.jsx)("img",{src:"images/poke-ball-icon.svg",alt:"header-icon",className:"w-7 animate-spin"})})}):n?Object(p.jsx)(p.Fragment,{children:n?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"bg-opacity-80 bg-type-".concat(n.pokemon.types[0].type.name," bg-contain"),style:{backgroundImage:'url("/images/poke-ball-transparent-bg.png")'},children:[Object(p.jsxs)("div",{className:"p-5 pb-3 flex items-center justify-between",children:[Object(p.jsxs)("h5",{className:"text-white",children:["#",n.pokemon.id.toString().padStart(3,"0")]}),Object(p.jsx)(h.d,{className:"ml-auto text-white text-xl cursor-pointer",onClick:function(){return s()}})]}),Object(p.jsxs)("div",{className:"px-5",children:[Object(p.jsx)("h1",{className:"text-white mb-5 text-5xl capitalize",children:a||n.pokemon.name.replaceAll("-"," ")}),Object(p.jsx)("div",{style:{minWidth:"200px",minHeight:"200px"},children:Object(p.jsx)("img",{style:{width:"200px",height:"200px"},className:"mx-auto",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/".concat(n.pokemon.id,".png"),alt:n.pokemon.name})})]}),Object(p.jsxs)("div",{className:"bg-white rounded-2xl -mt-10 px-5 py-10",children:[Object(p.jsxs)("div",{className:"pt-0 pb-5",children:[Object(p.jsx)("div",{className:"mb-2 text-center flex justify-center",children:n.pokemon.types.map((function(e,t){return Object(p.jsxs)("div",{className:"m-2 bg-poke-green px-3 py-1 rounded-full flex bg-opacity-90 bg-type-".concat(e.type.name),children:[Object(p.jsx)("img",{src:"icons/".concat(e.type.name,".svg"),alt:e.type.name,className:"w-3"}),Object(p.jsx)("p",{className:"font-lato text-xs font-bold text-white capitalize ml-1",children:e.type.name})]},t)}))}),Object(p.jsxs)("div",{className:"mb-5",children:[Object(p.jsx)("h5",{className:"mb-2",children:"About"}),Object(p.jsx)("div",{className:"table",children:Object(p.jsxs)("div",{className:"table-row-group",children:[Object(p.jsxs)("div",{className:"table-row",children:[Object(p.jsx)("div",{className:"table-cell",children:Object(p.jsx)("p",{className:"text-gray-500 mb-2",children:"Species"})}),Object(p.jsx)("div",{className:"table-cell pl-4",children:Object(p.jsx)("p",{className:"text-gray-800 mb-2 capitalize",children:n.pokemon.species.name})})]}),Object(p.jsxs)("div",{className:"table-row",children:[Object(p.jsx)("div",{className:"table-cell",children:Object(p.jsx)("p",{className:"text-gray-500 mb-2",children:"Weight"})}),Object(p.jsx)("div",{className:"table-cell pl-4",children:Object(p.jsxs)("p",{className:"text-gray-800 mb-2",children:[n.pokemon.weight/10," kg"]})})]}),Object(p.jsxs)("div",{className:"table-row",children:[Object(p.jsx)("div",{className:"table-cell",children:Object(p.jsx)("p",{className:"text-gray-500 mb-2",children:"height"})}),Object(p.jsx)("div",{className:"table-cell pl-4",children:Object(p.jsxs)("p",{className:"text-gray-800 mb-2",children:[n.pokemon.height/10," m"]})})]}),Object(p.jsxs)("div",{className:"table-row",children:[Object(p.jsx)("div",{className:"table-cell",children:Object(p.jsx)("p",{className:"text-gray-500 mb-2",children:"Base Experience"})}),Object(p.jsx)("div",{className:"table-cell pl-4",children:Object(p.jsx)("p",{className:"text-gray-800 mb-2",children:n.pokemon.base_experience})})]})]})})]}),Object(p.jsxs)("div",{className:"mb-5",children:[Object(p.jsx)("h5",{className:"mb-2",children:"Moves"}),Object(p.jsx)("div",{className:"-m-1 flex flex-wrap",children:n.pokemon.moves.map((function(e,t){return Object(p.jsx)("div",{className:"m-1 border bg-white px-3 py-1 rounded-full group transition duration-300 hover:bg-type-".concat(n.pokemon.types[0].type.name," hover:border-2"),children:Object(p.jsx)("p",{className:"font-lato text-xs font-bold text-gray-500 capitalize group-hover:text-white",children:e.move.name.replaceAll("-"," ")})},t)}))})]})]}),"pokedex"===c&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"text-center mb-7",children:Object(p.jsxs)("button",{type:"button",className:"btn capitalize",onClick:function(){return i()},children:["Catch"," ",n.pokemon.name.replaceAll("-"," "),"!"]})})}),"my-pokemon"===c&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"text-center mb-7",children:Object(p.jsxs)("button",{type:"button",className:"btn btn-red capitalize",onClick:function(){return l()},children:["Release"," ",a||n.pokemon.name.replaceAll("-"," "),"!"]})})}),Object(p.jsx)("div",{className:"flex justify-center",children:Object(p.jsx)("h6",{className:"text-poke-red cursor-pointer transition duration-300 transform hover:-translate-y-1",onClick:function(){return s()},children:"Back"})})]})]})}):null}):null})})})]})},P=n(72),z=function(e){var t=e.pokemon,n=e.onClose,a=e.onCatch,c=Object(s.useState)(""),i=Object(o.a)(c,2),l=i[0],r=i[1],m=Object(s.useState)(!0),j=Object(o.a)(m,2),b=j[0],h=j[1],u=Object(s.useState)(!1),O=Object(o.a)(u,2),g=O[0],f=O[1],k=Object(s.useContext)(x),v=k.myPokemon,N=k.setMyPokemon;Object(s.useEffect)((function(){y(),setTimeout((function(){h(!1)}),3e3)}),[]);var y=function(){h(!0),setTimeout((function(){h(!1)}),2e3),f(Math.random()<.5)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"fixed z-50 inset-0 modal-catch w-full h-full","aria-hidden":"true",children:Object(p.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(p.jsx)("div",{className:"fixed z-50 inset-0 overflow-y-auto poke-catch",children:Object(p.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(p.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all w-96 m-5",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:Object(p.jsxs)("div",{className:"p-10",children:[b?Object(p.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[Object(p.jsx)("img",{src:"images/poke-ball-icon.svg",alt:"header-icon",className:"w-24 animate-spin mb-5"}),Object(p.jsxs)("h4",{className:"mb-1 text-gray-500",children:["Trying catch"," ",Object(p.jsxs)("span",{className:"capitalize",children:[t.pokemon.name.replaceAll("-"," "),"..."]})]}),Object(p.jsx)("p",{className:"text-center",children:"Throwing a poke ball, but ups you miss a bit."})]}):g?Object(p.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[Object(p.jsx)("div",{style:{minWidth:"200px",minHeight:"200px"},children:Object(p.jsx)("img",{style:{width:"200px",height:"200px"},className:"mx-auto mb-5",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/".concat(t.pokemon.id,".png"),alt:t.pokemon.name})}),Object(p.jsxs)("h4",{className:"mb-1 text-gray-500",children:["You just catched a"," ",Object(p.jsx)("span",{className:"capitalize",children:t.pokemon.name.replaceAll("-"," ")}),"!"]}),Object(p.jsxs)("p",{className:"text-center",children:["Give"," ",Object(p.jsx)("span",{className:"capitalize",children:t.pokemon.name.replaceAll("-"," ")})," ","a name so you won't get confused."]}),Object(p.jsx)("input",{type:"text",placeholder:"Write a nickname...",className:"my-7 border-b-2 border-poke-red",onChange:function(e){return r(e.target.value)}}),Object(p.jsx)("div",{className:"text-center",children:Object(p.jsx)("button",{type:"button",className:"btn capitalize",onClick:function(){return function(){if(""!==l)if(v.find((function(e){return e.nickname===l})))d.b.error("".concat(l," already exist, please try other name!"));else{var e={id:t.pokemon.id,name:t.pokemon.name,image:t.pokemon.sprites.front_default,nickname:l};N([e].concat(Object(P.a)(v))),d.b.success("".concat(l," have been added to your pokemon collection!")),a()}else d.b.error("Nickname is empty, fill the field and try again!")}()},children:"Add to Collection!"})})]}):Object(p.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[Object(p.jsx)("div",{style:{minWidth:"200px",minHeight:"200px"},children:Object(p.jsx)("img",{style:{width:"200px",height:"200px",filter:"grayscale(100%)"},className:"mx-auto mb-5",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/".concat(t.pokemon.id,".png"),alt:t.pokemon.name})}),Object(p.jsxs)("h4",{className:"mb-1 text-gray-500",children:[Object(p.jsx)("span",{className:"capitalize",children:t.pokemon.name.replaceAll("-"," ")})," ","just ran away :("]}),Object(p.jsx)("p",{className:"text-center",children:"Don't worry, you can try to catch it again."}),Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsx)("button",{type:"button",className:"btn capitalize",onClick:function(){return y()},children:"Try Again!"})})]}),!b&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"flex justify-center mt-5",children:Object(p.jsx)("h6",{className:"text-poke-red cursor-pointer transition duration-300 transform hover:-translate-y-1",onClick:function(){return n()},children:"Back"})})})]})})})})]})},A=function(e){var t=e.pokemon,n=e.nickname,a=e.onClose,c=e.onRelease,i=Object(s.useContext)(x),l=i.myPokemon,r=i.setMyPokemon;Object(s.useEffect)((function(){}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"fixed z-50 inset-0 modal-catch w-full h-full","aria-hidden":"true",children:Object(p.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(p.jsx)("div",{className:"fixed z-50 inset-0 overflow-y-auto poke-catch",children:Object(p.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(p.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all w-96 m-5",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline",children:Object(p.jsxs)("div",{className:"p-10",children:[Object(p.jsxs)("div",{className:"flex items-center justify-center flex-col",children:[Object(p.jsx)("div",{style:{minWidth:"200px",minHeight:"200px"},children:Object(p.jsx)("img",{style:{width:"200px",height:"200px"},className:"mx-auto mb-5",src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/".concat(t.pokemon.id,".png"),alt:t.pokemon.name})}),Object(p.jsx)("h4",{className:"mb-1 text-gray-500",children:"Are you sure?"}),Object(p.jsxs)("p",{className:"text-center",children:["You're about to release"," ",Object(p.jsx)("span",{className:"capitalize",children:n||t.pokemon.name.replaceAll("-"," ")})," ","to the wild."]}),Object(p.jsx)("div",{className:"text-center mt-5",children:Object(p.jsxs)("button",{type:"button",className:"btn btn-red capitalize",onClick:function(){return c(),r(l.filter((function(e){return e.nickname!==n}))),void d.b.success("".concat(n," have been released to the wild!"))},children:["Release"," ",Object(p.jsx)("span",{className:"capitalize",children:n||t.pokemon.name.replaceAll("-"," ")}),"!"]})})]}),Object(p.jsx)("div",{className:"flex justify-center mt-5",children:Object(p.jsx)("h6",{className:"text-poke-red cursor-pointer transition duration-300 transform hover:-translate-y-1",onClick:function(){return a()},children:"Back"})})]})})})})]})},S=Object(s.forwardRef)((function(e,t){var n=e.origin,a=Object(s.useState)(!1),c=Object(o.a)(a,2),i=c[0],l=c[1],r=Object(s.useState)(!1),j=Object(o.a)(r,2),b=j[0],d=j[1],x=Object(s.useState)(!1),h=Object(o.a)(x,2),u=h[0],O=h[1],g=Object(s.useState)(""),f=Object(o.a)(g,2),k=f[0],v=f[1],N=Object(s.useState)(null),w=Object(o.a)(N,2),P=w[0],S=w[1],F=Object(m.useLazyQuery)(y,{variables:{name:k}}),I=Object(o.a)(F,2),M=I[0],R=I[1],L=R.loading,T=R.data;Object(s.useImperativeHandle)(t,(function(){return{openPokeDetail:function(e,t){l(!0),v(e),S(t),M()}}}));var q=function(){l(!1)},B=function(){d(!1)},D=function(){O(!1)};return Object(p.jsxs)(p.Fragment,{children:[i&&!b&&!u&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(C,{loading:L,pokemon:T,nickname:P,origin:n,onClose:function(){return q()},onCatch:function(){d(!0)},onRelease:function(){O(!0)}})}),b&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(z,{pokemon:T,onClose:function(){return B()},onCatch:function(){return B()}})}),u&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(A,{pokemon:T,nickname:P,onClose:function(){return D()},onRelease:function(){return D(),void q()}})})]})})),F=function(e){var t=e.pokemons,n=e.origin,a=e.loading,c=Object(s.useRef)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"relative min-h-96",children:a?Object(p.jsx)("div",{className:"absolute bg-white bg-opacity-90 w-full h-full loading flex items-center justify-center",children:Object(p.jsx)("img",{src:"images/poke-ball-icon.svg",alt:"header-icon",className:"w-7 mx-32 animate-spin"})}):t.length?Object(p.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:t.map((function(e,t){return Object(p.jsx)(w,{pokemon:e,onClick:function(e,t){return c.current.openPokeDetail(e,t)}},t)}))}):Object(p.jsxs)("div",{className:"h-96 flex items-center justify-center flex-col",children:[Object(p.jsx)(h.c,{className:"text-4xl text-gray-400 mb-2"}),Object(p.jsx)("p",{children:"No Pokemon Available."})]})}),Object(p.jsx)(S,{ref:c,origin:n})]})};F.defaultProps={pokemons:[]};var I=F,M=function(){var e=Object(s.useState)({}),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(18),i=Object(o.a)(c,1)[0],l=Object(s.useState)(0),r=Object(o.a)(l,2),j=r[0],b=r[1],d=Object(m.useLazyQuery)(N,{variables:{limit:i,offset:j}}),x=Object(o.a)(d,2),u=x[0],O=x[1],g=O.loading,f=O.data;Object(s.useEffect)((function(){u(),f&&a(f.pokemons)}),[f]);return Object(p.jsx)("div",{className:"container min-h-screen px-5",children:Object(p.jsxs)("div",{className:"bg-white rounded-2xl p-4",children:[Object(p.jsxs)("div",{className:"flex items-center mb-3",children:[Object(p.jsx)(h.a,{}),Object(p.jsx)("h5",{className:"ml-2",children:"Pokedex"})]}),Object(p.jsx)(I,{pokemons:n.results,loading:g,origin:"pokedex"}),Object(p.jsx)("div",{className:"text-center pt-5 pb-3",children:Object(p.jsx)(k.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(n.count/i),marginPagesDisplayed:1,pageRangeDisplayed:2,onPageChange:function(e){var t=e.selected;b(Math.ceil(t*i)),u(),f&&a(f.pokemons)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})})]})})},R=function(){var e=Object(s.useContext)(x).myPokemon;return Object(p.jsx)("div",{className:"container min-h-screen px-5",children:Object(p.jsxs)("div",{className:"bg-white rounded-2xl p-4",children:[Object(p.jsxs)("div",{className:"flex items-center mb-3",children:[Object(p.jsx)(h.b,{}),Object(p.jsx)("h5",{className:"ml-2",children:"My Pokemon"})]}),Object(p.jsx)(I,{pokemons:e,origin:"my-pokemon"})]})})};var L=function(){var e=new m.ApolloClient({cache:new m.InMemoryCache,uri:"https://graphql-pokeapi.vercel.app/api/graphql"}),t=Object(s.useState)([]),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(p.jsx)(m.ApolloProvider,{client:e,children:Object(p.jsx)(j.a,{children:Object(p.jsxs)("div",{className:"App bg-auto bg-center bg-repeat bg-fixed",style:{backgroundImage:'url("/images/poke-ball-seamless-bg.jpg")'},children:[Object(p.jsx)(d.a,{}),Object(p.jsx)(u,{}),Object(p.jsxs)(x.Provider,{value:{myPokemon:a,setMyPokemon:c},children:[Object(p.jsx)(b.a,{path:"/",exact:!0,component:g}),Object(p.jsx)(b.a,{path:"/pokedex",component:M}),Object(p.jsx)(b.a,{path:"/my-pokemon",component:R})]}),Object(p.jsx)(O,{})]})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root")),T()}},[[89,1,2]]]);
//# sourceMappingURL=main.b7b22a28.chunk.js.map